@tailwind base;
@tailwind components;
@tailwind utilities;

/* ... [Keep existing CSS variables and styles] ... */

:root {
  --bg-dark: #0f172a;
  --bg-panel: #1e293b;
  --accent: #d97706;
}

/* ... [Keep existing styles for body, h1, scrollbars, etc.] ... */

/* --- DICE ANIMATIONS --- */

/* The tumble animation path */
@keyframes tumble-across {
    0% { transform: translate3d(-100vw, 50vh, -500px) rotate3d(1, 1, 1, 0deg); opacity: 0; }
    20% { opacity: 1; }
    80% { transform: translate3d(45vw, 40vh, 0px) rotate3d(1, 2, 0.5, 1440deg); }
    100% { transform: translate3d(50vw, 50vh, 200px) rotate3d(1, 0, 0, 1440deg); } /* Ends roughly center */
}

/* The impact shake when it lands */
@keyframes land-shake {
    0% { transform: scale(1); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
}

/* Fade out */
@keyframes fade-out-die {
    from { opacity: 1; transform: scale(1); }
    to { opacity: 0; transform: scale(0.5) translateY(-200px); }
}

/* 3D Die Faces */
.die-container {
    perspective: 1000px;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 9999;
    pointer-events: none;
    overflow: hidden;
}

.die-3d {
    position: absolute;
    width: 100px;
    height: 100px;
    top: 0;
    left: 0;
    transform-style: preserve-3d;
    will-change: transform;
}

/* Polygon Shapes for Dice Backgrounds */
.clip-hex { clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%); }
.clip-tri { clip-path: polygon(50% 0%, 0% 100%, 100% 100%); }
.clip-diamond { clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%); }

/* Critical Hit Glow */
.crit-success {
    box-shadow: 0 0 50px #22c55e, 0 0 100px #22c55e inset;
    animation: pulse-green 0.5s infinite alternate;
}
.crit-fail {
    box-shadow: 0 0 50px #ef4444, 0 0 100px #ef4444 inset;
    animation: pulse-red 0.5s infinite alternate;
}

@keyframes pulse-green { from { filter: brightness(1); } to { filter: brightness(1.5); } }
@keyframes pulse-red { from { filter: brightness(1); } to { filter: brightness(1.3); } }
